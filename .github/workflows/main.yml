name: Borsa Bot - Otomatik Analiz

on:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  analiz:
    runs-on: ubuntu-latest

    steps:
      - name: Repo dosyalarÄ±nÄ± Ã§ek
        uses: actions/checkout@v4

      - name: Ã‡alÄ±ÅŸma dizinini gÃ¶ster
        run: |
          echo "Bulunulan dizin:"
          pwd
          echo "Dosyalar:"
          ls -la

      - name: Python kur
        uses: actions/setup-python@v5
        with:
          python-version: "3.11"

      - name: Python versiyon kontrol
        run: python --version

      # EÄŸer requirements.txt varsa otomatik kurar
      - name: Gerekli kÃ¼tÃ¼phaneleri kur
        run: |
          if [ -f requirements.txt ]; then
            pip install -r requirements.txt
          else
            echo "requirements.txt yok, atlandÄ±"
          fi

      # ğŸ‘‰ BURAYI DOSYA ADINA GÃ–RE DEÄÄ°ÅTÄ°REBÄ°LÄ°RSÄ°N
      - name: Analiz scriptini Ã§alÄ±ÅŸtÄ±r
        run: |
          if [ -f analiz.py ]; then
            python analiz.py
          else
            echo "analiz.py bulunamadÄ± âŒ"
            exit 1
          fi
